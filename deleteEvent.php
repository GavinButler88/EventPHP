<?php

require_once 'Event.php';
require_once 'Connection.php';
require_once 'EventTableGateway.php';

$id = session_id();
if ($id == "") {
    session_start();
}
//calls function to make sure that the user is logged in
require 'ensureUserLoggedIn.php';

if (!isset($_GET) || !isset($_GET['id'])) {
    die('Invalid request');
}
$id = $_GET['id'];

$connection = Connection::getInstance();
$gateway = new EventTableGateway($connection);
//calls function from the gateway to delete event if clicked
$gateway->deleteEvent($id);

header("Location: home.php");
?>
